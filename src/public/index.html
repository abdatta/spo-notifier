<!DOCTYPE html>
<html lang="en">
    <head>
        <title>SPO Notifier (by Abhishek Datta)</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="style.css?v=1" rel="stylesheet">
    </head>
    <body>
        <a href="https://github.com/abdatta/spo-notifier" target="_blank">
            <img width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_left_red_aa0000.png?resize=149%2C149" class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1">
        </a>
        <nav>
            <div class="nav-wrapper">
                <div class="brand-logo center">SPO Notifier</div>
                <a class="right" href="https://www.fb.com/AboutRohan" target="_blank" rel="noopener">by Abhishek Datta</a>
            </div>
        </nav>
        <div class="container">
            <div class="subscriber">
                <!-- <input id="email" type="text" placeholder="Enter your email..."> -->
                <button data-target="login" class="btn modal-trigger waves-effect waves-light">Subscribe To Notifications</button>
                <!-- Modal Structure -->
                <div id="login" class="modal">
                    <div class="modal-content" v-if="!success">
                        <h3 class="center">Notfications</h3>
                        <small class="error">{{ error }}</small>
                        <input type="text" placeholder="IITK CC username" v-model="email" autofocus>
                        <small style="width: 100%">Your email username without '@iitk.ac.in'.</small>
                        <input type="password" placeholder="IITK CC password" v-model="password" v-on:keyup.enter="subscribe()">
                        <small>We promise we will not store your password anywhere (db, logs, etc.). This is to only verify that the email indeed belongs to you. Still have trust issues? <a href="https://github.com/abdatta/spo-notifier" target="_blank">Checkout the source code.</a></small>
                    </div>
                    <div class="modal-content" v-else>
                        <h3 class="center">Notfications</h3>
                        <p>Subscribed sucessfully! Please check your email.</p>
                    </div>
                    <div class="modal-footer" v-if="!success">
                        <button class="waves-effect waves-green btn" v-bind:disabled="subscribing" v-on:click="subscribe()">{{ subscribing ? 'Subscribing...':'Subscribe' }}</button>
                    </div>
                    <div class="modal-footer" v-else>
                            <button class="modal-close waves-effect waves-green btn">Ok</button>
                    </div>
                </div>
            </div>
            <div style="text-align: center" id="subcount"><small><b>{{ count ? count+' people have already subscribed!':'' }}</b></small></div>
            <!-- <div class="row" id="posts">
                <div class="post" v-for="(post, i) in posts">
                    <div class="card blue-grey darken-1">
                        <div v-on:click="toggle(i)" class="card-parent-content">
                            <div class="card-content white-text">
                                <span class="card-title">
                                    {{ post.title }}
                                    <i class="material-icons dropdown right">{{ expanded === i ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}</i>
                                </span>
                                <span id="date1"><i class="material-icons">schedule</i> {{ post.date }}</span>
                            </div>
                        </div>
                        <div v-bind:id="'post_body'+i" class="card-action" v-html="post.body"></div>
                    </div>
                </div>
            </div> -->
            <div style="text-align: center">
                <h5>Tired of checking spo dashboard everytime for any new updates?</h5>
                <h5>Welcome to the "unofficial" SPO Notifier!</h5>
                <h5>You can subscribe above and receive email notifications for any new posts on the SPO dashboard.</h5>
                <h5>Also, this is open source, so you can see the code, fork it and contribute your own cents for the help of the campus community.</h5>
            </div>
            <div class="examples">
                <img class="materialboxed" src="dashboard.png">
                <img class="materialboxed" src="notification.png">
            </div>
            <div>
                <h5 style="text-align: center">Disclaimers:</h5>
                <h5>1. This site is made by me <a href="https://www.fb.com/AboutRohan" target="_blank" rel="noopener">(Abhishek Datta)</a>, and has no role of the SPO.</h5>
                <h5>2. This checks for new posts only at certain intervals (currently it is once every hour - <a href="http://m.me/AboutRohan" target="_blank" rel="noopener">message me</a> if you want it to be more frequent), so don't be over-dependent on this if you have some urgent news awaiting.</h5>
            </div>
        </div>
        
    </body>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="script.js?v=1"></script>
</html>
